<!doctype html>
<html lang="en">

{{> head}}

<body>

  <div class=wrapper>
     {{> header}}

    <ul class="menu-bar">
      <li class="menu-opt"><a href="/">Home</a></li>
      <li class="menu-opt"><a href="/users">Users</a></li>
      <li class="menu-opt"><a class=active href="/tracks">Tracks</a></li>
      <li class="menu-opt"><a href="/about">About</a></li>
    </ul>

    <div id="page-content">
      <div class="center vis-text">
        <h1>Tracks</h1>
      </div>
      <form action="/tracks" method="GET">
        <input type="text" id="tsearch" name="search" placeholder="Search track..." >
        <input class = "action-button" type="submit" value="Submit">
      </form>
      {{#search_str}}
        <div class = "search-info">
        Seacth results for: {{search_str}}
        </div>
      {{/search_str}}
      {{#tracks.length}}
      <div class="track-list-container">
      <!--track-list-container -->
        <ul>
          {{#tracks}}
            <li><a href="/tracks/{{id}}"> {{author}} - {{name}}</a></li>
          {{/tracks}}
        </ul>
      </div>


      <div class =page_refs>
      {{this_page}} out of {{page_count}} 
      </div>
      <form class="page_refs">
        {{#search_str}}
        <input type="hidden" name="search" value="{{search_str}}">
        {{/search_str}}
        {{#prev_page}}
         <button type ="submit" class='previous' name="page" value="{{prev_page}}">&laquo; Previous page</button>
        <!--<a class = 'previous' href="/tracks?page={{prev_page}}{{#search_str}}&search={{search_str}}{{/search_str}}">&laquo; Previous page</a>-->
        {{/prev_page}}
        {{#next_page}}
        <button type ="submit" class='next' name="page" value="{{next_page}}">&raquo; Next page</button>
        <!--<a class = 'next'  href="/tracks?page={{next_page}}{{#search_str}}&search={{search_str}}{{/search_str}}">&raquo; Next page</a>-->
        {{/next_page}}
      </form>
      {{/tracks.length}}

      {{^tracks.length}}
      <div class = "center vis-text">No tracks were found.</div>
      {{/tracks.length}}
      <a class ="action-button right" href="/tracks/new">Add new track</a>


    </div>

  {{ >footer }}

  </div>
</body>

</html>