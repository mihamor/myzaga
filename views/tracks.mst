<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>MyZaGa</title>

    <!-- Bootstrap core CSS -->
    <link href="/stylesheets/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/stylesheets//scrolling-nav.css" rel="stylesheet">

  </head>

  <body id="page-top">

    {{>nav-bar}}

    <header class="bg-primary text-white">
      <div class="container text-center">
        <h1>Tracks</h1>
      </div>
    </header>

    <section class="track-list-container bg-light">
      <div class="container text-center">
         <div class="row">
         <div class="col-lg-8 mx-auto">
          <form action="/tracks" method="GET">
                <input type="search" id="tsearch" name="search" placeholder="Search track..." >
                <button class = "btn btn-primary" type="submit">Search</button>
            </form>
            {{#search_str}}
                <div class = "search-info">
                Seacth results for: {{search_str}}
                </div>
            {{/search_str}}
         </div>
         </div>
        <div class="row">
        <div class="col-lg-8 mx-auto">
            {{#tracks.length}}
                <div class="list-group track-list rounded">
                <!--track-list-container -->
                    {{#tracks}}
                    <a  class ="list-group-item list-group-item-action track-ref" href="/tracks/{{id}}"><span class="text-primary">{{author}}</span> - {{name}}</a>
                    {{/tracks}}
                </div>
            <div class =page_refs>
                {{this_page}} out of {{page_count}} 
            </div>
            <form class="page_refs">
                {{#search_str}}
                <input type="hidden" name="search" value="{{search_str}}">
                {{/search_str}}
                {{#prev_page}}
                <button type ="submit" class='btn btn-primary' name="page" value="{{prev_page}}">&laquo; Previous page</button>
                <!--<a class = 'previous' href="/tracks?page={{prev_page}}{{#search_str}}&search={{search_str}}{{/search_str}}">&laquo; Previous page</a>-->
                {{/prev_page}}
                {{#next_page}}
                <button type ="submit" class='btn btn-primary' name="page" value="{{next_page}}">&raquo; Next page</button>
                <!--<a class = 'next'  href="/tracks?page={{next_page}}{{#search_str}}&search={{search_str}}{{/search_str}}">&raquo; Next page</a>-->
                {{/next_page}}
            </form>
            {{/tracks.length}}

            {{^tracks.length}}
            <div class = "center vis-text">No tracks were found.</div>
            {{/tracks.length}}
            <a class ="btn btn-primary float-right" href="/tracks/new">Add new track</a>
        </div>
        </div>
      </div>
    </section>

    {{>footer}}

  </body>

</html>
